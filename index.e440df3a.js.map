{"mappings":"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","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","src/js/modal-card.js","src/js/booksApi.js","node_modules/@parcel/runtime-js/lib/runtime-643dfc921be0cb37.js","node_modules/@parcel/runtime-js/lib/runtime-0909936e219f053f.js","node_modules/@parcel/runtime-js/lib/runtime-8b45d9c319cf09aa.js","node_modules/@parcel/runtime-js/lib/runtime-4e2d0de3a1cb538a.js","node_modules/@parcel/runtime-js/lib/runtime-bda5effa6f9e1c2f.js","node_modules/@parcel/runtime-js/lib/runtime-376518d2992435b6.js","node_modules/@parcel/runtime-js/lib/runtime-48b71def5eba71b0.js","node_modules/@parcel/runtime-js/lib/runtime-c2343a4558c06786.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","import axios from 'axios';\nimport { BookAPI } from './booksApi';\n\nimport sprite from '../images/sprite.svg';\n\nimport amazonIcone from '../images/shopping-list/amazon-icon.png';\nimport amazonXIcone from '../images/shopping-list/amazon-icon@2x.png';\nimport appleIcone from '../images/shopping-list/apple-icon.png';\nimport appleXIcone from '../images/shopping-list/apple-icon@2x.png';\nimport bookshopIcone from '../images/shopping-list/bookshop-icon.png';\nimport bookshopXIcone from '../images/shopping-list/bookshop-icon@2x.png';\n\nconst bookApi = new BookAPI();\n\nconst URL_API = 'https://books-backend.p.goit.global/books/';\n\nconst refs = {\n  openModalCardBtn: document.querySelector(\n    'button[name=\"data-modal-card-open\"]'\n  ),\n  modalCard: document.querySelector('.modal-card'),\n\n  closeModalCardBtn: document.querySelector('.modal-card_close'),\n};\n\nrefs.openModalCardBtn.addEventListener('click', openModalCard);\nrefs.closeModalCardBtn.addEventListener('click', closeModalCard);\n\nlet isModalOpen = false;\n\nexport function openModalCard(bookId) {\n  if (!isModalOpen) {\n    toggleModal();\n    const data = bookApi\n      .fetchBook(bookId)\n      .then(data => renderBooks(data, refs))\n      .catch(e => console.log(e));\n    isModalOpen = true;\n    refs.openModalCardBtn.style.display = 'none';\n    console.log(isModalOpen, 'INSIDE');\n  }\n}\n\nfunction closeModalCard() {\n  isModalOpen = false;\n  toggleModal();\n  clearModalContent();\n}\n\nfunction toggleModal() {\n  const modalBackdrop = document.getElementById('data-modal-card');\n  modalBackdrop.classList.toggle('is-hidden');\n}\n\nfunction clearModalContent() {\n  const modalCard = document.querySelector('.modal-card');\n  if (modalCard) {\n    modalCard.innerHTML = '';\n  }\n}\n\n// const renderBooks = (data, refs) => {\n//   const book = data.data;\n//   const amazonLink = book.buy_links.find(link => link.name === 'Amazon');\n//   const bookshopLink = book.buy_links.find(link => link.name === 'Bookshop');\n//   const appleBooksLink = book.buy_links.find(\n//     link => link.name === 'Apple Books'\n//   );\n//   console.log({ book });\n//   const bookElMarkup = `\n//   <div class=\"modal-card-div\">\n//   <img class=\"modal-card_img\" src=\"${book.book_image}\" alt=\"${book.title}\" />\n//   <div class=\"modal-card-info\">\n//   <h3 class=\"modal-card_title\">${book.title}</h3>\n//   <p class=\"modal-card_author\">${book.author}</p>\n//   <p class=\"modal-card_desq\">${book.description}</p>\n//   <ul class=\"shopping-list-links\">\n//     <li><a href=\"${amazonLink.url}\">${amazonLink.name}\n//     <picture>\n//     <source\n//       srcset=\"\n//     ${amazonIcone}   1x,\n//     ${amazonXIcone} 2x\n//   \"\n//       type=\"image/png\"\n//     />\n//     <img class=\"amazon-icon\" src=\"${amazonIcone} \" alt=\"Amazon\" />\n//   </picture></a></li>\n//     <li><a href=\"${bookshopLink.url}\">${bookshopLink.name}\n//     <picture>\n//     <source\n//       srcset=\"\n//   ${appleIcone}  1x,\n//   ${appleXIcone} 2x\n//   \"\n//       type=\"image/png\"\n//     />\n//     <img class=\"apple-icon\" src=\"${appleIcone}  \" alt=\"Apple\" />\n//   </picture></a></li>\n//     <li><a href=\"${appleBooksLink.url}\">${appleBooksLink.name}\n//         <picture>\n//         <source\n//           srcset=\"\n//       ${bookshopIcone}   1x,\n//       ${bookshopXIcone} 2x\n//       \"\n//           type=\"image/png\"\n//         />\n//         <img class=\"apple-icon\" src=\"${bookshopIcone}  \" alt=\"Bookshop\" />\n//       </picture>\n//     </a></li>\n//   </ul>\n//   </div>\n//   </div>\n//   <div class=\"button-shopping\">\n//   <button class=\"button-add-shopping-list btn-modal-card\" type=\"button\">Add to Shopping List</button>\n//   </div>\n//   `;\n\n//   refs.modalCard.insertAdjacentHTML('beforeend', bookElMarkup);\n// };\n\nconst renderBooks = (data, refs) => {\n  const book = data.data;\n  const amazonLink = book.buy_links.find(link => link.name === 'Amazon');\n  const bookshopLink = book.buy_links.find(link => link.name === 'Bookshop');\n  const appleBooksLink = book.buy_links.find(\n    link => link.name === 'Apple Books'\n  );\n  console.log({ book });\n  const bookElMarkup = `\n    <div class=\"modal-card-div\">\n      <img class=\"modal-card_img\" src=\"${book.book_image}\" alt=\"${book.title}\" />\n      <div class=\"modal-card-info\">\n        <h3 class=\"modal-card_title\">${book.title}</h3>\n        <p class=\"modal-card_author\">${book.author}</p>\n        <p class=\"modal-card_desq\">${book.description}</p>\n        <ul class=\"shopping-list-links\"> \n          <li shopping-list-links_item>\n            <a class=\"shopping-list-links_icon href=\"${amazonLink.url}\">\n              <picture>\n                <source\n                  srcset=\"${amazonIcone} 1x, ${amazonXIcone} 2x\"\n                  type=\"image/png\"\n                />\n                <img class=\"amazon-icon\" src=\"${amazonIcone}\" alt=\"Amazon\" />\n              </picture>\n            </a>\n          </li>\n          <li>\n            <a href=\"${bookshopLink.url}\">\n              <picture>\n                <source\n                  srcset=\"${appleIcone} 1x, ${appleXIcone} 2x\"\n                  type=\"image/png\"\n                />\n                <img class=\"apple-icon\" src=\"${appleIcone}\" alt=\"Apple\" />\n              </picture>\n            </a>\n          </li>\n          <li>\n            <a href=\"${appleBooksLink.url}\">\n              <picture>\n                <source\n                  srcset=\"${bookshopIcone} 1x, ${bookshopXIcone} 2x\"\n                  type=\"image/png\"\n                />\n                <img class=\"apple-icon\" src=\"${bookshopIcone}\" alt=\"Bookshop\" />\n              </picture>\n            </a>\n          </li>\n        </ul>\n      </div>\n    </div>\n    <div class=\"button-shopping\">\n      <button class=\"button-add-shopping-list btn-modal-card\" type=\"button\">Add to Shopping List</button> \n    </div>\n  `;\n\n  refs.modalCard.insertAdjacentHTML('beforeend', bookElMarkup);\n};\n\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'Escape' && isModalOpen) {\n    closeModalCard();\n  }\n});\n","import axios from 'axios';\n\nexport class BookAPI {\n    \n    #BASE_URL = 'https://books-backend.p.goit.global/books';\n    #CATEGORY_LIST = '/category-list';\n    #TOP_BOOKS = '/top-books';\n \n  async fetchCategoriesList() {\n    return await axios.get(`${this.#BASE_URL}${this.#CATEGORY_LIST}`);\n  }\n\n async fetchTopBooks() {\n    return await axios.get(`${this.#BASE_URL}${this.#TOP_BOOKS}`);\n  }\n  async fetchBook(bookId) {\n    console.log({ bookId });\n    return await axios.get(`${this.#BASE_URL}/${bookId}`);\n  }\n}\n\n\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lp5u4\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1WbtR\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"JrQ2f\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"9icNC\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"4nDo7\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"bxsbf\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"2X1kX\")).toString();","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"fzmqb\\\":\\\"index.e440df3a.js\\\",\\\"lp5u4\\\":\\\"sprite.eb3b87f4.svg\\\",\\\"1WbtR\\\":\\\"amazon-icon.16930f9e.png\\\",\\\"JrQ2f\\\":\\\"amazon-icon@2x.c543657e.png\\\",\\\"9icNC\\\":\\\"apple-icon.da517aac.png\\\",\\\"4nDo7\\\":\\\"apple-icon@2x.46a91633.png\\\",\\\"bxsbf\\\":\\\"bookshop-icon.af780590.png\\\",\\\"2X1kX\\\":\\\"bookshop-icon@2x.52fc7653.png\\\",\\\"6xFAd\\\":\\\"index.50f30988.js\\\"}\"));"],"names":["$ef7689007096c8a0$export$6503ec6e8aabbaf","$ef7689007096c8a0$export$f7ad0328861e2f03","$ef7689007096c8a0$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","$d1076de9aac85f40$var$bookApi","$ju4sA","BookAPI","$d1076de9aac85f40$var$refs","openModalCardBtn","document","querySelector","modalCard","closeModalCardBtn","addEventListener","$d1076de9aac85f40$export$36c874ecbf80911","$d1076de9aac85f40$var$closeModalCard","$d1076de9aac85f40$var$isModalOpen","bookId","$d1076de9aac85f40$var$toggleModal","fetchBook","then","data","$d1076de9aac85f40$var$renderBooks","catch","e","console","log","style","display","innerHTML","$d1076de9aac85f40$var$clearModalContent","getElementById","classList","toggle","refs","book","amazonLink","buy_links","find","link","name","bookshopLink","appleBooksLink","bookElMarkup","book_image","title","author","description","url","$parcel$interopDefault","$1tavD","$hrIna","$7fhu0","$9aWXl","$6UVd3","$dNclx","insertAdjacentHTML","event","key","$2shzp","parcelRequire","$e2f4475544698c36$export$488e8b51edcdd5f0","BASE_URL","CATEGORY_LIST","TOP_BOOKS","async","default","get","this","module","exports","URL","resolve","toString","register","JSON","parse"],"version":3,"file":"index.e440df3a.js.map"}